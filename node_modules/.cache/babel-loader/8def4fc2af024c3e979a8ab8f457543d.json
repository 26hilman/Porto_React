{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/portofolio/porto_react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alphatech/portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from \"unistore\";\nimport axios from \"axios\";\nvar initialState = {\n  token: \"\",\n  username: \"\",\n  password: \"\",\n  is_login: false,\n  nama_kontakkami: \"\",\n  email_kontakkami: \"\",\n  nomor_telepon_kontakkami: \"\",\n  pesan_kontakkami: \"\",\n  status_register: \"\",\n  name: \"\",\n  email: \"\",\n  phone_number: \"\",\n  iata_asal: \"\",\n  airport_id_asal: \"\",\n  airport_name_asal: \"\",\n  nation_code_asal: \"\",\n  iata_tujuan: \"\",\n  airport_id_tujuan: \"\",\n  airport_name_tujuan: \"\",\n  nation_code_tujuan: \"\",\n  flight_list: [],\n  weather: \"\",\n  code: \"\",\n  weather_code: \"\",\n  temperature: \"\",\n  sunrise: \"\",\n  sunset: \"\",\n  rate: \"\",\n  base_currency: \"\",\n  target_currency: \"\",\n  new_sum: \"\",\n  base_sum: \"\",\n  word: \"\"\n};\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, event) {\n      return _defineProperty({}, event.target.name, event.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  username: state.username,\n                  password: state.password\n                }; // const headers = {headers: {\"X-Requested-With\" : \"https://api.halocuk.web.id\"}}\n\n                console.log(\"ini data login\", data);\n                _context.next = 4;\n                return axios.post(\"http://localhost:8010/proxy/user/login\", data).then(function (response) {\n                  if (response.data.hasOwnProperty(\"Token\")) {\n                    store.setState({\n                      token: response.data.Token,\n                      is_login: true\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    postKontakKami: function () {\n      var _postKontakKami = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  nama: state.nama,\n                  email: state.email,\n                  nomor_telepon: state.nomor_telepon,\n                  pesan: state.pesan\n                };\n                console.log(\"ini data kontakkami\", data);\n                _context2.next = 4;\n                return axios.post(\"http://localhost:8010/proxy/kontakkami\", data).then(function (response) {\n                  if (response.data.hasOwnProperty(\"Status\")) {\n                    store.setState({\n                      nama_kontakkami: response.data.Data.nama,\n                      email_kontakkami: response.data.Data.email,\n                      nomor_telepon_kontakkami: response.data.Data.nomor_telepon,\n                      pesan_kontakkami: response.data.Data.pesan\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function postKontakKami(_x2) {\n        return _postKontakKami.apply(this, arguments);\n      }\n\n      return postKontakKami;\n    }(),\n    postRegister: function () {\n      var _postRegister = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                data = {\n                  name: state.name,\n                  email: state.email,\n                  phone_number: state.phone_number,\n                  username: state.username,\n                  password: state.password\n                };\n                console.log(\"ini data register\", data);\n                _context3.next = 4;\n                return axios.post(\"http://localhost:8010/proxy/user/register\", data).then(function (response) {\n                  if (response.data.hasOwnProperty(\"Status\")) {\n                    store.setState({\n                      status_register: response.data.Status\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function postRegister(_x3) {\n        return _postRegister.apply(this, arguments);\n      }\n\n      return postRegister;\n    }(),\n    setAsal: function setAsal(state, e) {\n      store.setState({\n        iata_asal: e.target.value\n      });\n    },\n    setTujuan: function setTujuan(state, e) {\n      store.setState({\n        iata_tujuan: e.target.value\n      });\n    },\n    setCurrAsal: function setCurrAsal(state, e) {\n      store.setState({\n        base_currency: e.target.value\n      });\n    },\n    setCurrTujuan: function setCurrTujuan(state, e) {\n      store.setState({\n        target_currency: e.target.value\n      });\n    },\n    //get new currency\n    getNewCurrency: function () {\n      var _getNewCurrency = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(state, moneysum) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency).then(function (response) {\n                  store.setState({\n                    rate: response.data.rates[state.target_currency]\n                  });\n                  var new_value = state.rate * moneysum;\n                  store.setState({\n                    new_sum: new_value\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getNewCurrency(_x4, _x5) {\n        return _getNewCurrency.apply(this, arguments);\n      }\n\n      return getNewCurrency;\n    }(),\n    //get weather\n    getWeather: function () {\n      var _getWeather = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(state) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.get(\"http://api.weatherbit.io/v2.0/current?lat=\" + state.latitude_tujuan + \"&lon=\" + state.longitude_tujuan + \"&key=aa3c976285c64dafa3662f2e99d4bd03\").then(function (response) {\n                  store.setState({\n                    weather: response.data.data[0].weather.description,\n                    temperature: response.data.data[0].temp,\n                    sunrise: response.data.data[0].sunrise,\n                    sunset: response.data.data[0].sunset,\n                    weather_code: response.data.data[0].weather.code\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function getWeather(_x6) {\n        return _getWeather.apply(this, arguments);\n      }\n\n      return getWeather;\n    }(),\n    //get api data for flight and currency\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(state) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return axios.all([axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_asal), axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_tujuan), axios.get(\"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" + state.iata_asal), axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)]).then(axios.spread(function (response1, response2, response3, response4) {\n                  store.setState({\n                    airport_id_asal: response1.data[0].airportId,\n                    airport_name_asal: response1.data[0].nameAirport,\n                    nation_code_asal: response1.data[0].codeIso2Country,\n                    latitude_asal: response1.data[0].latitudeAirport,\n                    longitude_asal: response1.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    airport_id_tujuan: response2.data[0].airportId,\n                    airport_name_tujuan: response2.data[0].nameAirport,\n                    nation_code_tujuan: response2.data[0].codeIso2Country,\n                    latitude_tujuan: response2.data[0].latitudeAirport,\n                    longitude_tujuan: response2.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    flight_list: response3.data\n                  });\n                  store.setState({\n                    rate: response4.data.rates.USD\n                  });\n                })).catch(function (error) {});\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getData(_x7) {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  };\n};","map":{"version":3,"sources":["/home/alphatech/portofolio/porto_react/src/store.js"],"names":["createStore","axios","initialState","token","username","password","is_login","nama_kontakkami","email_kontakkami","nomor_telepon_kontakkami","pesan_kontakkami","status_register","name","email","phone_number","iata_asal","airport_id_asal","airport_name_asal","nation_code_asal","iata_tujuan","airport_id_tujuan","airport_name_tujuan","nation_code_tujuan","flight_list","weather","code","weather_code","temperature","sunrise","sunset","rate","base_currency","target_currency","new_sum","base_sum","word","store","actions","setField","state","event","target","value","postLogout","postLogin","data","console","log","post","then","response","hasOwnProperty","setState","Token","catch","error","postKontakKami","nama","nomor_telepon","pesan","Data","postRegister","Status","setAsal","e","setTujuan","setCurrAsal","setCurrTujuan","getNewCurrency","moneysum","get","rates","new_value","getWeather","latitude_tujuan","longitude_tujuan","description","temp","getData","all","spread","response1","response2","response3","response4","airportId","nameAirport","codeIso2Country","latitude_asal","latitudeAirport","longitude_asal","longitudeAirport","USD"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst initialState = {\n  token: \"\",\n  username: \"\",\n  password: \"\",\n  is_login: false,\n  nama_kontakkami : \"\",\n  email_kontakkami : \"\",\n  nomor_telepon_kontakkami : \"\",\n  pesan_kontakkami : \"\",\n  status_register : \"\",\n  name : \"\",\n  email : \"\",\n  phone_number : \"\",\n  iata_asal: \"\",\n  airport_id_asal: \"\",\n  airport_name_asal: \"\",\n  nation_code_asal: \"\",\n  iata_tujuan: \"\",\n  airport_id_tujuan: \"\",\n  airport_name_tujuan: \"\",\n  nation_code_tujuan: \"\",\n  flight_list: [],\n  weather: \"\",\n  code: \"\",\n  weather_code: \"\",\n  temperature: \"\",\n  sunrise: \"\",\n  sunset: \"\",\n  rate: \"\",\n  base_currency: \"\",\n  target_currency: \"\",\n  new_sum: \"\",\n  base_sum: \"\",\n  word: \"\",\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n  setField: (state, event) => {\n    return { [event.target.name]: event.target.value };\n  },\n\n  postLogout: state => {\n    return { is_login: false };\n  },\n\n  postLogin: async state => {\n\n    const data = { username: state.username, password: state.password };\n    // const headers = {headers: {\"X-Requested-With\" : \"https://api.halocuk.web.id\"}}\n    console.log(\"ini data login\", data);\n    await axios\n      .post(\"http://localhost:8010/proxy/user/login\", data)\n      .then(response => {\n        if (response.data.hasOwnProperty(\"Token\")) {\n          store.setState({\n            token: response.data.Token,\n            is_login: true,\n          });\n        }\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  postKontakKami: async state => {\n    const data = { nama : state.nama, email : state.email, nomor_telepon : state.nomor_telepon, pesan : state.pesan };\n    console.log(\"ini data kontakkami\", data);\n    await axios\n      .post(\"http://localhost:8010/proxy/kontakkami\", data)\n      .then(response => {\n        if (response.data.hasOwnProperty(\"Status\")) {\n          store.setState({\n            nama_kontakkami: response.data.Data.nama,\n            email_kontakkami : response.data.Data.email,\n            nomor_telepon_kontakkami : response.data.Data.nomor_telepon,\n            pesan_kontakkami : response.data.Data.pesan,\n          });\n        }\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  postRegister: async state => {\n    const data = { name : state.name, email : state.email, phone_number : state.phone_number, username : state.username, password : state.password };\n    console.log(\"ini data register\", data);\n    await axios\n      .post(\"http://localhost:8010/proxy/user/register\", data)\n      .then(response => {\n        if (response.data.hasOwnProperty(\"Status\")) {\n          store.setState({\n            status_register: response.data.Status,\n          });\n        }\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  setAsal: (state, e) => {\n    store.setState({ iata_asal: e.target.value });\n  },\n\n  setTujuan: (state, e) => {\n    store.setState({ iata_tujuan: e.target.value });\n  },\n\n  setCurrAsal: (state, e) => {\n    store.setState({ base_currency: e.target.value });\n  },\n\n  setCurrTujuan: (state, e) => {\n    store.setState({ target_currency: e.target.value });\n  },\n\n  //get new currency\n  getNewCurrency: async (state, moneysum) => {\n    await axios\n      .get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)\n      .then(function(response) {\n        store.setState({ rate: response.data.rates[state.target_currency] });\n        const new_value = state.rate * moneysum;\n        store.setState({ new_sum: new_value });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  //get weather\n  getWeather: async state => {\n    await axios\n      .get(\n        \"http://api.weatherbit.io/v2.0/current?lat=\" +\n          state.latitude_tujuan +\n          \"&lon=\" +\n          state.longitude_tujuan +\n          \"&key=aa3c976285c64dafa3662f2e99d4bd03\"\n      )\n      .then(function(response) {\n        store.setState({\n          weather: response.data.data[0].weather.description,\n          temperature: response.data.data[0].temp,\n          sunrise: response.data.data[0].sunrise,\n          sunset: response.data.data[0].sunset,\n          weather_code: response.data.data[0].weather.code\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  //get api data for flight and currency\n  getData: async state => {\n    await axios\n      .all([\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_tujuan\n        ),\n        axios.get(\n          \"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency\n        )\n      ])\n      .then(\n        axios.spread(function(response1, response2, response3, response4) {\n          store.setState({\n            airport_id_asal: response1.data[0].airportId,\n            airport_name_asal: response1.data[0].nameAirport,\n            nation_code_asal: response1.data[0].codeIso2Country,\n            latitude_asal: response1.data[0].latitudeAirport,\n            longitude_asal: response1.data[0].longitudeAirport\n          });\n          store.setState({\n            airport_id_tujuan: response2.data[0].airportId,\n            airport_name_tujuan: response2.data[0].nameAirport,\n            nation_code_tujuan: response2.data[0].codeIso2Country,\n            latitude_tujuan: response2.data[0].latitudeAirport,\n            longitude_tujuan: response2.data[0].longitudeAirport\n          });\n          store.setState({ flight_list: response3.data });\n          store.setState({ rate: response4.data.rates.USD });\n        })\n      )\n      .catch(function(error) {});\n  }\n});\n"]},"metadata":{},"sourceType":"module"}